{{ define "main" }}
<!-- Override theme layout để ẩn title -->
<style>
.f2.f-subheadline-l.fw2.light-silver.mb0.lh-title {
  display: none !important;
}
</style>
<div class="main-content">
  <!-- Hero Section với Glass Effect - Compact -->
  <section class="profile-section">
    <p>{{ .Site.Params.description }}</p>
    <div style="margin-top: 1.5rem;">
      <a href="/posts/" class="btn">Khám Phá Blog</a>
      <a href="/profile/" class="btn" style="margin-left: 0.8rem;">Giới Thiệu</a>
    </div>
  </section>

  <!-- Categories Section (moved up) -->
  <section class="glass-container">
    <h2 style="color: white; text-align: center; margin-bottom: 1.5rem; font-size: 1.5rem;">🏷️ Chuyên Mục</h2>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
      <div class="card">
        <h3 style="color: white; margin-bottom: 1rem;">🟠 Java Networking</h3>
        <p style="color: rgba(255, 255, 255, 0.9);">Socket programming, HTTP clients, RESTful APIs với Java</p>
        <a href="/tags/java/" class="btn" style="margin-top: 1rem; display: inline-block;">Xem Bài Viết</a>
      </div>
      
      <div class="card">
        <h3 style="color: white; margin-bottom: 1rem;">🟡 JavaScript Networking</h3>
        <p style="color: rgba(255, 255, 255, 0.9);">Fetch API, WebSocket, Node.js networking</p>
        <a href="/tags/javascript/" class="btn" style="margin-top: 1rem; display: inline-block;">Xem Bài Viết</a>
      </div>
    </div>
  </section>

  <!-- Featured Posts (moved down) -->
  <section class="glass-container">
    <h2 style="color: white; text-align: center; margin-bottom: 1.5rem; font-size: 1.5rem;">📚 Bài Viết Mới Nhất</h2>
    {{ range first 3 (where .Site.RegularPages "Type" "posts") }}
    <div class="post-card">
      <h2><a href="{{ .Permalink }}" style="color: white; text-decoration: none;">{{ .Title }}</a></h2>
      <p>{{ .Summary | truncate 200 }}</p>
      <div style="margin-top: 1rem;">
        {{ range .Params.tags }}
        <span class="tag">{{ . }}</span>
        {{ end }}
      </div>
      <div style="margin-top: 1rem; color: rgba(255, 255, 255, 0.7);">
        📅 {{ .Date.Format "2 January 2006" }}
      </div>
    </div>
    {{ end }}
  </section>

  <!-- Journey Timeline Section -->
  <section class="glass-container">
    <h2 style="color: white; text-align: center; margin-bottom: 2rem; font-size: 1.8rem;">🌟 Hành Trình Phát Triển</h2>
    <div class="journey-timeline">
      <div class="timeline-item">
        <div class="timeline-marker">
          <span class="marker-icon">🎓</span>
        </div>
        <div class="timeline-content">
          <div class="timeline-header">
            <h3>Bắt Đầu Học Lập Trình</h3>
            <span class="timeline-period">2021</span>
          </div>
          <div class="timeline-details">
            <p>Bắt đầu hành trình học Công nghệ Thông tin tại HUTECH, khám phá thế giới lập trình với HTML, CSS và JavaScript cơ bản.</p>
          </div>
        </div>
      </div>
      
      <div class="timeline-item">
        <div class="timeline-marker">
          <span class="marker-icon">🚀</span>
        </div>
        <div class="timeline-content">
          <div class="timeline-header">
            <h3>Phát Triển Kỹ Năng Frontend</h3>
            <span class="timeline-period">2022-2023</span>
          </div>
          <div class="timeline-details">
            <p>Học sâu về React.js, tối ưu hóa UI/UX, và bắt đầu tham gia các dự án nhóm. Đạt được danh hiệu "Sinh viên 5 tốt cấp trường".</p>
          </div>
        </div>
      </div>
      
      <div class="timeline-item">
        <div class="timeline-marker">
          <span class="marker-icon">🏆</span>
        </div>
        <div class="timeline-content">
          <div class="timeline-header">
            <h3>Thành Tích Nổi Bật</h3>
            <span class="timeline-period">2024</span>
          </div>
          <div class="timeline-details">
            <p>Đạt giải "Nữ IT tài năng" và "Khuyến khích" tại cuộc thi HUTECH Network Cracking. Bắt đầu dự án Web Quản lý Khảo thí.</p>
          </div>
        </div>
      </div>
      
      <div class="timeline-item">
        <div class="timeline-marker">
          <span class="marker-icon">💼</span>
        </div>
        <div class="timeline-content">
          <div class="timeline-header">
            <h3>Dự Án Chuyên Nghiệp</h3>
            <span class="timeline-period">2025 - Hiện tại</span>
          </div>
          <div class="timeline-details">
            <p>Phát triển Web Quản lý Khảo thí với React.js, tạo giao diện thống kê và quản lý hệ thống thi cử toàn diện.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Interactive Stats Section -->
  <section class="glass-container">
    <h2 style="color: white; text-align: center; margin-bottom: 2rem; font-size: 1.8rem;">📊 Thống Kê Nổi Bật</h2>
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">🎯</div>
        <div class="stat-number" data-target="3.57">0</div>
        <div class="stat-label">GPA Xuất Sắc</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">🏆</div>
        <div class="stat-number" data-target="4">0</div>
        <div class="stat-label">Giải Thưởng</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">💻</div>
        <div class="stat-number" data-target="2">0</div>
        <div class="stat-label">Dự Án Hoàn Thành</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">📚</div>
        <div class="stat-number" data-target="5">0</div>
        <div class="stat-label">Năm Học Tập</div>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section class="glass-container">
    <h2 style="color: white; text-align: center; margin-bottom: 1.5rem; font-size: 1.5rem;">💡 Về Blog Này</h2>
    <div style="text-align: center;">
      <p style="color: rgba(255, 255, 255, 0.9); font-size: 1.1rem; line-height: 1.8; margin-bottom: 2rem;">
        Blog này được tạo ra với mục đích chia sẻ kiến thức về lập trình mạng, 
        từ Java Socket programming đến JavaScript WebSocket, 
        giúp bạn nắm vững các kỹ thuật networking hiện đại.
      </p>
      <div style="display: flex; justify-content: center; gap: 2rem; flex-wrap: wrap;">
        <div style="text-align: center;">
          <div style="font-size: 2rem; margin-bottom: 0.5rem;">📚</div>
          <div style="color: white; font-weight: 600;">Kiến Thức</div>
          <div style="color: rgba(255, 255, 255, 0.7); font-size: 0.9rem;">Chia sẻ kinh nghiệm</div>
        </div>
        <div style="text-align: center;">
          <div style="font-size: 2rem; margin-bottom: 0.5rem;">💻</div>
          <div style="color: white; font-weight: 600;">Thực Hành</div>
          <div style="color: rgba(255, 255, 255, 0.7); font-size: 0.9rem;">Code examples</div>
        </div>
        <div style="text-align: center;">
          <div style="font-size: 2rem; margin-bottom: 0.5rem;">🤝</div>
          <div style="color: white; font-weight: 600;">Cộng Đồng</div>
          <div style="color: rgba(255, 255, 255, 0.7); font-size: 0.9rem;">Học hỏi cùng nhau</div>
        </div>
      </div>
    </div>
  </section>
</div>

<!-- Floating Action Button -->
<div id="fab-container">
  <button id="fab-main" title="Menu nhanh">
    <span id="fab-icon">⚡</span>
  </button>
  <div id="fab-menu">
    <a href="/posts/" class="fab-item" title="Bài viết">
      <span>📚</span>
    </a>
    <a href="/profile/" class="fab-item" title="Giới thiệu">
      <span>👤</span>
    </a>
    <a href="#top" class="fab-item" title="Lên đầu trang">
      <span>⬆️</span>
    </a>
  </div>
</div>

<!-- Reading Progress Bar -->
<div id="reading-progress">
  <div id="progress-bar"></div>
</div>

<!-- Animated Counter Script -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Animated counter function
  function animateCounter(element, target, duration = 2000) {
    const start = 0;
    const increment = target / (duration / 16);
    let current = start;
    
    const timer = setInterval(() => {
      current += increment;
      if (current >= target) {
        current = target;
        clearInterval(timer);
      }
      
      // Format number based on target
      if (target >= 1 && target < 10) {
        element.textContent = current.toFixed(2);
      } else {
        element.textContent = Math.floor(current);
      }
    }, 16);
  }
  
  // Intersection Observer for stats animation
  const observerOptions = {
    threshold: 0.5,
    rootMargin: '0px 0px -100px 0px'
  };
  
  const statsObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const statNumbers = entry.target.querySelectorAll('.stat-number');
        statNumbers.forEach(stat => {
          const target = parseFloat(stat.getAttribute('data-target'));
          animateCounter(stat, target);
        });
        statsObserver.unobserve(entry.target);
      }
    });
  }, observerOptions);
  
  // Observe stats section
  const statsSection = document.querySelector('.stats-grid');
  if (statsSection) {
    statsObserver.observe(statsSection);
  }
  
  // Add parallax effect to timeline markers
  const timelineMarkers = document.querySelectorAll('.journey-timeline .timeline-marker');
  
  window.addEventListener('scroll', () => {
    const scrolled = window.pageYOffset;
    const rate = scrolled * -0.5;
    
    timelineMarkers.forEach((marker, index) => {
      const delay = index * 0.1;
      marker.style.transform = `translateY(${rate + delay}px)`;
    });
  });
  
  // Add hover sound effect (optional)
  const statCards = document.querySelectorAll('.stat-card');
  statCards.forEach(card => {
    card.addEventListener('mouseenter', () => {
      card.style.transform = 'translateY(-6px) scale(1.05)';
    });
    
    card.addEventListener('mouseleave', () => {
      card.style.transform = 'translateY(0) scale(1)';
    });
  });

  // Floating Action Button functionality
  const fabMain = document.getElementById('fab-main');
  const fabMenu = document.getElementById('fab-menu');
  const fabIcon = document.getElementById('fab-icon');
  
  if (fabMain && fabMenu) {
    fabMain.addEventListener('click', () => {
      fabMenu.classList.toggle('active');
      fabIcon.textContent = fabMenu.classList.contains('active') ? '✕' : '⚡';
    });
    
    // Close FAB menu when clicking outside
    document.addEventListener('click', (e) => {
      if (!fabMain.contains(e.target) && !fabMenu.contains(e.target)) {
        fabMenu.classList.remove('active');
        fabIcon.textContent = '⚡';
      }
    });
  }

  // Reading Progress Bar
  const progressBar = document.getElementById('progress-bar');
  
  if (progressBar) {
    window.addEventListener('scroll', () => {
      const scrollTop = window.pageYOffset;
      const docHeight = document.body.scrollHeight - window.innerHeight;
      const scrollPercent = (scrollTop / docHeight) * 100;
      progressBar.style.width = scrollPercent + '%';
    });
  }

  // Smooth scroll for anchor links
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        target.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    });
  });
});
</script>
{{ end }}
